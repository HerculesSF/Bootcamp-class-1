{%- assign currentEventIndex = -1 -%}
{%- assign currentPageHandle = 'global' -%}

{%- if template.name == 'page' -%}
    {%- assign currentPageHandle = page.title | split: '-' | first | handleize -%}
{%- endif -%}

{%- if template.name == 'collection' -%}
    {%- assign currentPageHandle = collection.title | split: '-' | first | handleize -%}
{%- endif -%}

{%- for eventNameItem in shop.metafields.accentuate.event_name -%}

    {%- assign eventHandle = eventNameItem | handleize -%}

    {% if eventHandle == currentPageHandle %}
        {%- assign currentEventIndex = forloop.index0 -%}
    {% endif %}

{%- endfor -%}

{{- currentEventIndex -}}